<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reffy Infinite Canvas Demo</title>
    <script type="module" src="./index.ts"></script>
  </head>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
    }

    #canvas {
      touch-action: none;
    }

    #add-image {
      position: absolute;
    }

    #control-container {
      position: absolute;
      display: flex;
      flex-direction: row;
      left: 2rem;
      top: 2rem;
    }

    #disclaimer {
      position: absolute;
      left: 50%;
      bottom: 2rem;
      transform: translateX(-50%);
      padding: 8px 12px;
      background: #fff;
      color: #57606a;
      border: 1px solid #d0d7de;
      border-radius: 8px;
      text-align: center;
      max-width: 80vw;
      pointer-events: none;
      font:
        500 12px/1.3 system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Ubuntu,
        Cantarell,
        "Noto Sans",
        "Helvetica Neue",
        Arial;
    }

    #control-container {
      position: absolute;
      display: flex;
      flex-direction: row;
      left: 50%;
      top: 2rem;
      transform: translateX(-50%);
      padding: 0.5rem;
      border: 1px solid #d0d7de;
      border-radius: 12px;
      background: #ffffff;

      p {
        display: none;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
      }
    }

    #control-container > a,
    #control-container > button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      gap: 1rem;
      border: none;
      border-radius: 8px;
      color: #57606a;
      text-decoration: none;
      background: #ffffff;
      cursor: pointer;
      font:
        500 16px system-ui,
        -apple-system,
        Segoe UI,
        Roboto,
        Ubuntu,
        Cantarell,
        "Noto Sans",
        "Helvetica Neue",
        Arial;
    }

    #control-container > a:hover,
    #control-container > button:hover {
      background: #cfcfcf;
    }

    /* The hamburger button is hidden by default on desktop */
    #open-menu {
      position: absolute;
      display: none;
      left: 1rem;
      top: 1rem;
      align-items: center;
      justify-content: center;
      padding: 8px;
      gap: 1rem;
      border: 1px solid #d0d7de;
      border-radius: 8px;
      color: #57606a;
      text-decoration: none;
      background: #ffffff;
      cursor: pointer;
    }

    /* Mobile viewport rules */
    @media (max-width: 768px) {
      /* Show hamburger and hide desktop side panels */
      #open-menu {
        display: inline-flex;
      }

      #control-container {
        display: none;
        position: absolute;
        flex-direction: column;
        transform: translateX(0);
        left: 1rem;
        top: 4rem;
        background: rgba(255, 255, 255, 1);
        padding: 8px;
        border: 1px solid #d0d7de;
        border-radius: 8px;

        p {
          display: inline;
        }

        a,
        button {
          justify-content: start;
          padding-top: 0.25rem;
          padding-bottom: 0.25rem;
          background-color: rgb(255, 255, 255);
        }
      }

      #control-container.is-open {
        display: flex;
      }
    }
  </style>
  <body>
    <infinite-canvas id="canvas"></infinite-canvas>
    <button id="open-menu">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <path
          fill="currentColor"
          d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"
        />
      </svg>
    </button>
    <div id="control-container" class="container">
      <button id="mode-button" title="Change Mode">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"
            />
            <rect width="7" height="5" x="7" y="7" rx="1" />
            <rect width="7" height="5" x="10" y="12" rx="1" />
          </g>
        </svg>
        <p>Change Mode</p>
      </button>
      <button id="zoom-in-button" title="Zoom In">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8" />
            <path d="m21 21l-4.35-4.35M11 8v6m-3-3h6" />
          </g>
        </svg>
        <p>Zoom In</p>
      </button>
      <button id="zoom-out-button" title="Zoom Out">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8" />
            <path d="m21 21l-4.35-4.35M8 11h6" />
          </g>
        </svg>
        <p>Zoom Out</p>
      </button>
      <button id="export-canvas-button" title="Export Canvas">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"
            />
            <path d="M14 2v5a1 1 0 0 0 1 1h5m-8 10v-6m-3 3l3 3l3-3" />
          </g>
        </svg>
        <p>Export Canvas</p>
      </button>
      <button id="import-canvas-button" title="Import Canvas">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"
            />
            <path d="M14 2v5a1 1 0 0 0 1 1h5m-8 4v6m3-3l-3-3l-3 3" />
          </g>
        </svg>
        <p>Import Canvas</p>
      </button>
      <button id="add-image-botton" title="Add Image">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M16 5h6m-3-3v6m2 3.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5"
            />
            <path d="m21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21" />
            <circle cx="9" cy="9" r="2" />
          </g>
        </svg>
        <p>Add Image</p>
      </button>
      <button id="clear-canvas-button" title="Clear Canvas">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="m16 22l-1-4m4-4a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v1a1 1 0 0 0 1 1"
            />
            <path
              d="M19 14H5l-1.973 6.767A1 1 0 0 0 4 22h16a1 1 0 0 0 .973-1.233zM8 22l1-4"
            />
          </g>
        </svg>
        <p>Clear Canvas</p>
      </button>
      <button id="center-canvas-button" title="Snap to Center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <circle cx="12" cy="12" r="3" />
            <path
              d="M3 7V5a2 2 0 0 1 2-2h2m10 0h2a2 2 0 0 1 2 2v2m0 10v2a2 2 0 0 1-2 2h-2M7 21H5a2 2 0 0 1-2-2v-2"
            />
          </g>
        </svg>
        <p>Snap to Center</p>
      </button>
      <button id="content-thumbnail-button" title="Add Content Thumbnail">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M3 7V5a2 2 0 0 1 2-2h2m10 0h2a2 2 0 0 1 2 2v2m0 10v2a2 2 0 0 1-2 2h-2M7 21H5a2 2 0 0 1-2-2v-2"
            />
            <rect width="10" height="8" x="7" y="8" rx="1" />
          </g>
        </svg>
        <p>Add Content Thumbnail</p>
      </button>
      <a
        id="github"
        href="https://github.com/trash-lobster/reffy-infinite-canvas"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Open GitHub repository"
        title="GitHub Repository"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
          >
            <path
              d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"
            />
            <path d="M9 18c-4.51 2-5-2-7-2" />
          </g>
        </svg>
        <p>GitHub Repository</p>
      </a>
      <a
        id="issue"
        href="https://github.com/trash-lobster/reffy-infinite-canvas/issues"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Open GitHub issues"
        title="Raise an Issue"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"
          />
        </svg>
        <p>Raise an Issue</p>
      </a>
      <input
        id="add-image-input"
        type="file"
        accept="image/*"
        multiple
        style="display: none"
      />
      <input
        id="import-canvas-input"
        type="file"
        accept=".json"
        style="display: none"
      />
    </div>
    <div id="disclaimer">All images added are stored locally only.</div>
  </body>
</html>
